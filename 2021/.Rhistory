title = "CEO Departures",
subtitle = "S&P 1500 Firms",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_y_continuous(labels = percent) +
theme(legend.position = "top") +
labs(x = "",
y = "% of departures",
title = "CEO Departures",
subtitle = "S&P 1500 Firms",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_y_continuous(labels = percent) +
theme(legend.position = "top") +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_y_continuous(labels = percent) +
theme(legend.position = "top") +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#ACF7C1")) +
theme(legend.position = "top") +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top") +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=12),
axis.text.x = element_text(color = "#d2d2d2", size = 12),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
# This will save your most recent plot
ggsave(
filename = "2021_04_27_tidy_tuesday.png",
device = "png")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1989, 1999, 2009, 2019)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=12),
axis.text.x = element_text(color = "#d2d2d2", size = 12),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1989, 1999, 2009, 2019)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
legend.box.background = element_rect(fill = "#1F1F1F"),
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
legend.box.background = element_rect(fill = "#1F1F1F"),
legend.background = element_rect(fill = "#1F1F1F"),
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
#legend.box.background = element_rect(fill = "#1F1F1F"),
legend.background = element_rect(fill = "#1F1F1F"),
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
legend.background = element_rect(fill = "#1F1F1F"),
legend.text = element_text(color="#d2d2d2", size=10),
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures,
departure_vol = fct_rev(departure_vol)) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#D6002A", "#3C6997")) +
theme(legend.position = "top",
legend.background = element_rect(fill = "#1F1F1F"),
legend.text = element_text(color="#d2d2d2", size=10),
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures,
departure_vol = fct_rev(departure_vol)) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#3C6997", "#D6002A")) +
theme(legend.position = "top",
legend.background = element_rect(fill = "#1F1F1F"),
legend.text = element_text(color="#d2d2d2", size=10),
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
# This will save your most recent plot
ggsave(
filename = "2021_04_27_tidy_tuesday.png",
device = "png")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol) %>%
ggplot(aes(fyear, n, color = departure_vol)) +
geom_line()
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures,
departure_vol = fct_rev(departure_vol)) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#3C6997", "#D6002A")) +
theme(legend.position = "top",
legend.background = element_rect(fill = "#1F1F1F"),
legend.text = element_text(color="#d2d2d2", size=10),
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
panel.border = element_blank(),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
# This will save your most recent plot
ggsave(
filename = "2021_04_27_tidy_tuesday.png",
device = "png")
departures %>%
filter(departure_reason != "Unknown",
fyear > 1987,
fyear < 2020) %>%
count(fyear, departure_vol, name = "n_departures") %>%
add_count(fyear, wt = n_departures, name = "total_departures") %>%
mutate(pct_departures = n_departures / total_departures,
departure_vol = fct_rev(departure_vol)) %>%
ggplot(aes(fyear, pct_departures, fill = departure_vol)) +
geom_area() +
scale_x_continuous(breaks = c(1990, 1995, 2000, 2005, 2010, 2015)) +
scale_y_continuous(labels = percent) +
scale_fill_manual(values = c("#3C6997", "#D6002A")) +
theme(legend.position = "top",
legend.background = element_rect(fill = "#1F1F1F"),
legend.text = element_text(color="#d2d2d2", size=10),
panel.grid.major.x = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major.y = element_blank(),
axis.ticks = element_blank(),
panel.background = element_rect("#1F1F1F"),
plot.background = element_rect(fill = "#1F1F1F"),
panel.border = element_blank(),
axis.text.y = element_text(color="#d2d2d2", size=10),
axis.text.x = element_text(color = "#d2d2d2", size = 10),
axis.title.y = element_text(color="#d2d2d2", size=12),
axis.title.x = element_text(color = "#d2d2d2", size = 12),
plot.title = element_text(color = "white", size = 16, face = "bold"),
plot.subtitle = element_text(color = "#d2d2d2", size = 14),
plot.caption = element_text(color = "#d2d2d2", size = 8)) +
labs(x = "",
y = "% of departures",
fill = "",
title = "CEO Departures",
subtitle = "S&P 1500 Firms: 1988 - 2019",
caption = "Source: Gentry et al.  |  Analysis: Tony Galvan (@GDataScience1)")
