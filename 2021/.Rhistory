ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
theme_map() +
coord_map() +
facet_grid(~active_year)
po_years %>%
filter(active_year %in% c(1750, 1800, 1850, 1900, 1950, 2000)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
theme_map() +
coord_map() +
facet_wrap(~active_year)
po_years %>%
filter(active_year %in% c(1750, 1800, 1850, 1900, 1950, 2000)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom")
po_years %>%
filter(active_year %in% c(1750, 1775, 1800, 1825, 1850, 1875,
1900, 1925, 1950, 1975, 2000)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom")
po_years %>%
filter(active_year %in% c(1752, 1777, 1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom")
po_years %>%
filter(active_year %in% c(1777, 1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom")
po_years %>%
filter(active_year %in% c(1777, 1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom") +
labs(title = "US Post Offices by Age",
subtitle = "1777 - 2002  |  Analysis: Tony Galvan (@GDataScience1)"
caption = tt_caption)
po_years %>%
filter(active_year %in% c(1777, 1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom") +
labs(title = "US Post Offices by Age",
subtitle = "1777 - 2002  |  Analysis: Tony Galvan (@GDataScience1)",
caption = tt_caption)
#install.packages("viridis")
library(viridis)
po_years %>%
filter(active_year %in% c(1777, 1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom") +
labs(title = "US Post Offices by Age",
subtitle = "1777 - 2002  |  Analysis: Tony Galvan (@GDataScience1)",
caption = tt_caption)
tt_caption <- 'Blevins, Cameron; Helbock, Richard W., 2021, "US Post Offices",\n https://doi.org/10.7910/DVN/NUKCNA, Harvard Dataverse, V1, UNF:6:8ROmiI5/4qA8jHrt62PpyA== [fileUNF]'
library(ggthemes)
library(viridis)
po_years %>%
filter(active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom") +
labs(title = "US Post Offices: 1802 - 2002",
subtitle = "Analysis: Tony Galvan (@GDataScience1)",
caption = tt_caption)
po_years %>%
filter(active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom") +
labs(title = "US Post Offices: 1802 - 2002",
subtitle = "Analysis: Tony Galvan (@GDataScience1)",
caption = tt_caption)
tt_caption <- 'Blevins, Cameron; Helbock, Richard W., 2021, "US Post Offices",\n https://doi.org/10.7910/DVN/NUKCNA, Harvard Dataverse, V1, \nUNF:6:8ROmiI5/4qA8jHrt62PpyA== [fileUNF]'
po_years %>%
filter(active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom") +
labs(title = "US Post Offices: 1802 - 2002",
#subtitle = "",
color = "Age"
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
po_years %>%
filter(active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "bottom") +
labs(title = "US Post Offices: 1802 - 2002",
#subtitle = "",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p <- po_years %>%
filter(active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "right") +
labs(title = "US Post Offices: 1802 - 2002",
#subtitle = "",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p
p <- po_years %>%
filter(active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() +
theme_map() +
coord_map() +
facet_wrap(~active_year) +
theme(legend.position = "right") +
labs(title = "How did US Post Offices spread and age?",
subtitle = "1802 - 2002",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p
#install.packages("gifski")
library(gganimate)
p2 <- p -
facet_wrap(~active_year) +
labs(subtitle = "{ current_frame }",
caption = tt_caption) +
transition_maual(active_year)
p <- po_years %>%
filter(active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002)) %>%
filter(!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() +
theme_map() +
coord_map()
p_facet <- p +
facet_wrap(~active_year) +
theme(legend.position = "right") +
labs(title = "How did US Post Offices spread and age?",
subtitle = "1802 - 2002",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p_facet
p2 <- p +
transition_maual(active_year) +
labs(title = "How did US Post Offices spread and age?",
subtitle = "{ current_frame }",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
#install.packages("gifski")
library(gganimate)
p2 <- p +
transition_maual(active_year) +
labs(title = "How did US Post Offices spread and age?",
subtitle = "{ current_frame }",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p2 <- p +
transition_manual(active_year) +
labs(title = "How did US Post Offices spread and age?",
subtitle = "{ current_frame }",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p2
anim_save(filename = "2021_04_13_tidy_tuesday.gif",
animation = last_animation())
p_anim <- p +
transition_manual(active_year) +
labs(title = "How did US Post Offices spread and age?",
subtitle = "Active Post Offices in { current_frame }",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p_anim
p_anim
anim_save(filename = "2021_04_13_tidy_tuesday.gif",
animation = last_animation())
p <- po_years %>%
filter(!is.na(),
active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002),
!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis(option = "magma") +
theme_map() +
coord_map()
p <- po_years %>%
filter(!is.na(latitude),
!is.na(longitude),
active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002),
!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis(option = "magma") +
theme_map() +
coord_map()
p_facet <- p +
facet_wrap(~active_year) +
theme(legend.position = "right") +
labs(title = "How did US Post Offices spread and age?",
subtitle = "1802 - 2002",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p_facet
p_anim <- p +
transition_manual(active_year) +
labs(title = "How did US Post Offices spread and age from 1802 - 2002?",
subtitle = "Active Post Offices in { current_frame }",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p_anim
p_anim
anim_save(filename = "2021_04_13_tidy_tuesday.gif",
animation = last_animation())
p <- po_years %>%
filter(!is.na(latitude),
!is.na(longitude),
active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002),
!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() + # option = "magma") +
theme_map() +
coord_map()
p <- po_years %>%
filter(!is.na(latitude),
!is.na(longitude),
active_year %in% c(1802, 1827, 1852, 1877,
1902, 1927, 1952, 1977, 2002),
!state %in% c("AK", "HI")) %>%
#filter(state == "CA") %>%
ggplot(aes(longitude, latitude, color = age)) +
borders("state") +
geom_point(size = 0.01, alpha = 0.25) +
scale_color_viridis() + # option = "magma") +
theme_map() +
coord_map()
p_facet <- p +
facet_wrap(~active_year) +
theme(legend.position = "right") +
labs(title = "How did US Post Offices spread and age?",
subtitle = "1802 - 2002",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p_facet
p_anim <- p +
transition_manual(active_year) +
labs(title = "How did US Post Offices spread and age from 1802 - 2002?",
subtitle = "Active Post Offices in { current_frame }",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p_anim
anim_save(filename = "2021_04_13_tidy_tuesday.gif",
animation = last_animation())
p_anim <- p +
transition_manual(active_year) +
labs(title = "How did US Post Offices spread, age, close from 1802 - 2002?",
subtitle = "Each point represents an active office in { current_frame }; Older offices are lighter; Newer offices are darker",
color = "Age",
caption = paste0(tt_caption, "\nAnalysis: Tony Galvan (@GDataScience1)"))
p_anim
anim_save(filename = "2021_04_13_tidy_tuesday.gif",
animation = last_animation())
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
theme_set(theme_light())
tt <- tt_load("2021-04-20")
tt
tt %>%
map(glimpse)
netflix_titles <- tt$netflix_titles
View(netflix_titles)
library(lubridate)
mutate(date_added = mdy(date_added)
netflix_titles <- tt$netflix_titles %>%
netflix_titles <- tt$netflix_titles %>%
mutate(date_added = mdy(date_added))
View(netflix_titles)
summary(netflix_titles$date_added)
netflix_titles %>%
mutate(year_added = year(date_added)) %>%
count(year_added) %>%
ggplot(aes(year, n)) %>%
geom_col
netflix_titles %>%
mutate(year_added = year(date_added)) %>%
count(year_added) %>%
ggplot(aes(year, n)) +
geom_col
netflix_titles %>%
mutate(year_added = year(date_added)) %>%
count(year_added) %>%
ggplot(aes(year, n)) +
geom_col()
netflix_titles %>%
mutate(year_added = year(date_added)) %>%
count(year_added) %>%
ggplot(aes(year_added, n)) +
geom_col()
netflix_titles %>%
mutate(year_added = year(date_added)) %>%
count(year_added) %>%
ggplot(aes(year_added, n, fill = factor(year_added))) +
geom_col()
netflix_titles %>%
mutate(year_added = year(date_added)) %>%
count(year_added) %>%
ggplot(aes(year_added, n, fill = factor(year_added))) +
geom_col(show.legend = FALSE)
netflix_titles %>%
mutate(year_added = year(date_added)) %>%
count(year_added) %>%
ggplot(aes(year_added, n)) +
geom_col()
netflix_titles %>%
mutate(year_added = year(date_added)) %>%
count(year_added, type) %>%
ggplot(aes(year_added, n)) +
geom_col() +
facet_wrap(~type)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
theme_set(theme_light())
tt_caption <- 'Blevins, Cameron; Helbock, Richard W., 2021, "US Post Offices",\n https://doi.org/10.7910/DVN/NUKCNA, Harvard Dataverse, V1, \nUNF:6:8ROmiI5/4qA8jHrt62PpyA== [fileUNF]'
tt <- tt_load("2021-04-13")
tt
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
library(lubridate)
theme_set(theme_light())
tt <- tt_load("2021-04-20")
netflix_titles <- tt$netflix_titles %>%
mutate(date_added = mdy(date_added))
View(netflix_titles)
summary(netflix_titles$date_added)
netflix_titles %>%
separate_rows(role, sep = ",\\s+") %>%
View()
netflix_titles %>%
separate_rows(cast, sep = ",\\s+") %>%
View()
netflix_titles %>%
separate_rows(cast, sep = ",\\s+") %>%
count(cast, sort = TRUE)
netflix_titles %>%
filter(!is.na(cast)) %>%
separate_rows(cast, sep = ",\\s+") %>%
count(cast, sort = TRUE)
netflix_titles %>%
filter(!is.na(cast)) %>%
mutate(india = ifelse(country == "India", "Y", "N")) %>%
separate_rows(cast, sep = ",\\s+") %>%
count(cast, india, sort = TRUE)
netflix_titles %>%
filter(!is.na(cast)) %>%
mutate(india = fct_lump(country, n = 5)) %>%
separate_rows(cast, sep = ",\\s+") %>%
count(cast, india, sort = TRUE)
netflix_titles %>%
filter(!is.na(cast)) %>%
mutate(country_bin = fct_lump(country, n = 5)) %>%
separate_rows(cast, sep = ",\\s+") %>%
count(cast, country_bin, sort = TRUE)
netflix_titles %>%
filter(!is.na(cast)) %>%
mutate(country_bin = fct_lump(country, n = 5)) %>%
separate_rows(cast, sep = ",\\s+") %>%
count(cast, country_bin, sort = TRUE) %>%
top_n(10)
netflix_titles %>%
filter(!is.na(cast)) %>%
#mutate(country = fct_lump(country, n = 5)) %>%
separate_rows(cast, sep = ",\\s+") %>%
count(cast, country, sort = TRUE)
netflix_titles %>%
count(country, sort = TRUE)
netflix_titles %>%
filter(!is.na(country)) %>%
count(country, sort = TRUE)
count(country, sort = TRUE)
netflix_titles %>%
filter(!is.na(country)) %>%
separate_rows(country, sep = ",\\s+") %>%
count(country, sort = TRUE)
netflix_titles %>%
filter(!is.na(country)) %>%
separate_rows(country, sep = ",\\s+") %>%
filter(str_detect(country, ","))
netflix_titles %>%
filter(!is.na(country)) %>%
separate_rows(country, sep = ",\\s+") %>%
mutate(country = str_remove(country, ",")) %>%
filter(str_detect(country, ","))
netflix_titles %>%
filter(!is.na(country)) %>%
separate_rows(country, sep = ",\\s+") %>%
mutate(country = str_remove(country, ",")) %>%
count(country, sort = TRUE)
