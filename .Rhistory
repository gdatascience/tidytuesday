rename(palagic_fish = 4,
crustaceans = 5,
cephalopods = 6,
demersal_fish = 7,
freshwater_fish = 8,
molluscs = 9,
marine_fish = 10) %>%
glimpse()
production <- tt$`seafood-and-fish-production-thousand-tonnes` %>%
clean_names() %>%
rename(palagic_fish = 4,
crustaceans = 5,
cephalopods = 6,
demersal_fish = 7,
freshwater_fish = 8,
molluscs = 9,
marine_fish = 10)
production %>%
filter(code = "USA") %>%
glimpse()
production %>%
filter(code == "USA") %>%
glimpse()
production %>%
filter(code == "USA") %>%
select(-entity, -code)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = year)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, values_to = "tons")
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons")
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
ggplot(aes(year, tons, color = type)) +
geom_line()
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = number_format())
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_log10(labels = number_format())
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = number_format())
production <- tt$`seafood-and-fish-production-thousand-tonnes` %>%
clean_names() %>%
rename(`Palagic Fish` = 4,
crustaceans = 5,
cephalopods = 6,
demersal_fish = 7,
freshwater_fish = 8,
molluscs = 9,
marine_fish = 10)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = number_format())
production <- tt$`seafood-and-fish-production-thousand-tonnes` %>%
clean_names() %>%
rename(`Palagic Fish` = 4,
Crustaceans = 5,
Cephalopods = 6,
`Demersal Fish` = 7,
`Freshwater Fish` = 8,
Molluscs = 9,
`Marine Fish` = 10)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = number_format())
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = number_format())
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = number_format())
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format())
tt_caption <- "Source: OurWorldinData.org  |  Analysis: Tony Galvan (@GDataScience1)"
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons * 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
labs(x = "",
y = "# of tons",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons * 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons * 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons / 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons / 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons (in millions)",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons / 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced (in millions)",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons / 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced (in millions)",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (demersal fish) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom-feeders (demersal fish) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 1000000, suffix = "Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.0000001, suffix = "Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, suffix = "Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 0, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " MM")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1)) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " MM")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " MM")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced (MM = millions)",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
# This will save your most recent plot
ggsave(
filename = "2021_10_12_tidy_tuesday.png",
device = "png")
