title = "Park Access Rankings by City",
subtitle = "For cities that appear in the rankings every year from 2012 to 2020",
caption = tt_caption)
# This will save your most recent plot
ggsave(
filename = "2021_06_22_tidy_tuesday.png",
device = "png")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
theme_set(theme_light())
tt_caption = "Source: #DuBoisChallenge tweets  |  Analysis: Tony Galvan (@GDataScience1)"
tt <- tt_load("2021-06-15")
tt
tt %>%
map(glimpse)
tweets <- tt$tweets %>%
mutate(date = as.Date(datetime),
day = lubridate::wday(date, label = TRUE),
is_tuesday = ifelse(day == "Tue", "Tuesdays", "Other days"),
tt_tweet = ifelse(is.na(content), FALSE,
str_detect(str_to_lower(content), "tidytuesday")),
tt_tweet = ifelse(tt_tweet, "#TidyTuesday tweets", "All other tweets"))
summary(tweets$date)
tweets %>%
count(date, tt_tweet, is_tuesday) %>%
mutate(is_tuesday = fct_rev(is_tuesday)) %>%
ggplot(aes(date, n, fill = is_tuesday)) +
geom_col() +
facet_wrap(~tt_tweet, ncol = 1) +
scale_fill_manual(values = c("navyblue", "grey50")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of tweets",
fill = "",
title = "#DuBoisChallenge tweets by date: 2/7/2021 - 5/7/2021",
subtitle = "How did the #TidyTuesday project impact the challenge?",
caption = tt_caption)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
theme_set(theme_light())
tt_caption <- "Source: The Trust for Public Land  | Analysis: Tony Galvan (@GDataScience)"
tt <- tt_load("2021-06-22")
tt
tt %>%
map(glimpse)
parks <- tt$parks
summary(parks$year)
parks %>%
count(year)
parks %>%
count(city, sort = TRUE)
parks %>%
add_count(city) %>%
filter(n == 9) %>%
mutate(city = fct_reorder(city, -rank)) %>%
ggplot(aes(rank, city, fill = city)) +
geom_boxplot(show.legend = FALSE) +
labs(x = "Rank",
y = "",
title = "Park Access Rankings by City",
subtitle = "For cities that appear in the rankings every year from 2012 to 2020",
caption = tt_caption)
View(parks)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
theme_set(theme_light())
tt_caption <- "Source: The Trust for Public Land  | Analysis: Tony Galvan (@GDataScience)"
tt <- tt_load("2021-06-22")
tt
tt %>%
map(glimpse)
parks <- tt$parks
summary(parks$year)
parks %>%
count(year)
parks %>%
count(city, sort = TRUE)
parks %>%
add_count(city) %>%
filter(n == 9) %>%
mutate(city = fct_reorder(city, -rank)) %>%
ggplot(aes(rank, city, fill = city)) +
geom_boxplot(show.legend = FALSE) +
labs(x = "Rank",
y = "",
title = "Park Access Rankings by City",
subtitle = "For cities that appear in the rankings every year from 2012 to 2020",
caption = tt_caption)
parks %>%
add_count(city)
parks %>%
add_count(city) %>%
filter(n == 9) %>%
mutate(city = fct_reorder(city, -rank)) %>%
ggplot(aes(rank, city, fill = city)) +
geom_boxplot(show.legend = FALSE) +
labs(x = "Rank",
y = "",
title = "Park Access Rankings by City",
subtitle = "For cities that appear in the rankings every year from 2012 to 2020",
caption = tt_caption)
tidytuesdayR::use_tidytemplate()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
theme_set(theme_light())
tt_caption <- "Source: |  Analysis: Tony Galvan (@GDataScience1)"
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
theme_set(theme_light())
tt_caption <- "Source: London.gov  |  Analysis: Tony Galvan (@GDataScience1)"
tt <- tt_load("2021-06-29")
tt
tt %>%
map(glimpse)
animal_rescues <- tt$animal_rescues
animal_rescues
View(animal_rescues)
library(lubridate)
animal_rescues <- tt$animal_rescues %>%
mutate(date_time_of_call = dmy_hm(date_time_of_call),
date_of_call = as.Date(date_time_of_call))
View(animal_rescues)
animal_rescues <- tt$animal_rescues %>%
mutate(date_time_of_call = dmy_hm(date_time_of_call),
date_of_call = as.Date(date_time_of_call),
month_of_call = floor_date(date_of_call, unit = "months"))
View(animal_rescues)
animal_rescues %>%
count(month_of_call) %>%
ggplot(aes(month_of_call, n)) +
geom_line()
animal_rescues %>%
count(month_of_call) %>%
ggplot(aes(month_of_call, n)) +
geom_point() +
geom_smooth()
animal_rescues %>%
count(month_of_call) %>%
ggplot(aes(month_of_call, n)) +
geom_point() +
geom_smooth(se = FALSE)
animal_rescues %>%
count(month_of_call) %>%
ggplot(aes(month_of_call, n)) +
geom_point() +
geom_smooth(method = "loess", se = FALSE)
animal_rescues %>%
count(month_of_call) %>%
ggplot(aes(month_of_call, n)) +
geom_point(alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE)
animal_rescues <- tt$animal_rescues %>%
mutate(date_time_of_call = dmy_hm(date_time_of_call),
date_of_call = as.Date(date_time_of_call),
month_of_call = floor_date(date_of_call, unit = "months"),
pandemic = ifelse(month_of_call <= ymd(20200301)))
animal_rescues <- tt$animal_rescues %>%
mutate(date_time_of_call = dmy_hm(date_time_of_call),
date_of_call = as.Date(date_time_of_call),
month_of_call = floor_date(date_of_call, unit = "months"),
pandemic = ifelse(month_of_call <= ymd(20200301), "Pandemic", "Other"))
View(animal_rescues)
animal_rescues <- tt$animal_rescues %>%
mutate(date_time_of_call = dmy_hm(date_time_of_call),
date_of_call = as.Date(date_time_of_call),
month_of_call = floor_date(date_of_call, unit = "months"),
pandemic = ifelse(month_of_call >= ymd(20200301), "Pandemic", "Other"))
View(animal_rescues)
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n, color = pandemic)) +
geom_point(alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
labs(x = "",
y = "# of animal rescues",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "")
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n)) +
geom_point(aes(color = pandemic), alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
labs(x = "",
y = "# of animal rescues",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "")
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n)) +
geom_point(aes(color = pandemic), alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
labs(x = "",
y = "# of animal rescues",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n)) +
geom_point(aes(color = pandemic), alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
labs(x = "",
y = "# of animal rescues",
color = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n)) +
geom_point(aes(color = pandemic), alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
# This will save your most recent plot
ggsave(
filename = "2021_06_29_tidy_tuesday.png",
device = "png")
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n)) +
#geom_point(aes(color = pandemic), alpha = 0.25) +
geom_col(aes(fill = pandemic), alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n)) +
#geom_point(aes(color = pandemic), alpha = 0.25) +
geom_col(aes(fill = pandemic), alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
# This will save your most recent plot
ggsave(
filename = "2021_06_29_tidy_tuesday.png",
device = "png")
View(animal_rescues)
View(animal_rescues)
animal_rescues %>%
count(month_of_call, cal_year)
animal_rescues <- tt$animal_rescues %>%
mutate(date_time_of_call = dmy_hm(date_time_of_call),
date_of_call = as.Date(date_time_of_call),
month_of_call = floor_date(date_of_call, unit = "months"),
month_name_of_call = month(month_of_call),
pandemic = ifelse(month_of_call >= ymd(20200301), "Pandemic", "Other"))
View(animal_rescues)
animal_rescues <- tt$animal_rescues %>%
mutate(date_time_of_call = dmy_hm(date_time_of_call),
date_of_call = as.Date(date_time_of_call),
month_of_call = floor_date(date_of_call, unit = "months"),
month_name_of_call = month(month_of_call, label = TRUE),
pandemic = ifelse(month_of_call >= ymd(20200301), "Pandemic", "Other"))
View(animal_rescues)
animal_rescues %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = cal_year)) +
geom_line()
animal_rescues %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = factor(cal_year))) +
geom_line()
animal_rescues %>%
count(cal_year, month_name_of_call)
animal_rescues %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = as.factor(cal_year))) +
geom_line()
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = cal_year)) +
geom_line()
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = cal_year)) +
geom_point()
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = cal_year)) +
geom_jitter()
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = cal_year, group = cal_year)) +
geom_line()
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = cal_year, group = cal_year)) +
geom_point(show.legend = FALSE) +
geom_smooth(method = "loess", se = FALSE)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n)) +
geom_point(aes(color = cal_year, group = cal_year), show.legend = FALSE) +
geom_smooth(method = "loess", se = FALSE)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = cal_year, group = cal_year)) +
geom_line()
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line()
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line()
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line(alpha = 0.25) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
scale_color_manual(values = c("darkblue", "gray75")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
scale_color_manual(values = c("gray75", "darkblue")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n)) +
#geom_point(aes(color = pandemic), alpha = 0.25) +
geom_col(aes(fill = pandemic), alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
scale_fill_manual(values = c("gray75", "darkblue")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
count(month_of_call, pandemic) %>%
ggplot(aes(month_of_call, n)) +
#geom_point(aes(color = pandemic), alpha = 0.25) +
geom_col(aes(fill = pandemic), alpha = 0.25) +
geom_smooth(method = "loess", se = FALSE) +
scale_fill_manual(values = c("gray50", "darkblue")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
scale_color_manual(values = c("gray50", "darkblue")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
scale_color_manual(values = c("gray25", "darkblue")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
scale_color_manual(values = c("gray75", "darkblue")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
animal_rescues %>%
mutate(cal_year = as.factor(cal_year)) %>%
count(cal_year, month_name_of_call, pandemic) %>%
ggplot(aes(month_name_of_call, n, color = pandemic, group = cal_year)) +
geom_line() +
scale_color_manual(values = c("gray75", "darkblue")) +
theme(legend.position = "top") +
labs(x = "",
y = "# of animal rescues",
color = "",
fill = "",
title = "The London Fire Brigade: Animal Rescues",
subtitle = "Are animal rescues on the rise during the pandemic?",
caption = tt_caption)
# This will save your most recent plot
ggsave(
filename = "2021_06_29_tidy_tuesday.png",
device = "png")
