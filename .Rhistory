filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons * 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons * 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons / 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons / 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons (in millions)",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons / 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
#scale_y_continuous(labels = comma_format()) +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced (in millions)",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons / 1000,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced (in millions)",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(tons = tons,
type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (Demersal) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom feeders (demersal fish) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Bottom-feeders (demersal fish) became top produced fish in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format()) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 1000000, suffix = "Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.0000001, suffix = "Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, suffix = "Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 0, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the late 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " Million")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " MM")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1)) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " MM")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
production %>%
filter(code == "USA") %>%
select(-entity, -code) %>%
pivot_longer(cols = -year, names_to = "type", values_to = "tons") %>%
mutate(type = fct_reorder(type, -tons)) %>%
ggplot(aes(year, tons, color = type)) +
geom_line() +
scale_y_continuous(labels = comma_format(scale = 0.000001, accuracy = 1, suffix = " MM")) +
#scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "# of tons produced (MM = millions)",
color = "",
title = "U.S. Fishing Production",
subtitle = "Groundfish (demersal fish) production skyrocketed in the 1980's",
caption = tt_caption)
# This will save your most recent plot
ggsave(
filename = "2021_10_12_tidy_tuesday.png",
device = "png")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
tt <- tt_load("2021-10-19")
tt
tt %>%
map(glimpse)
pumpkins <- tt$pumpkins %>%
separate(id, sep = "-", into = c("year", "type"), convert = TRUE) %>%
mutate(type = case_when(
type == "F" ~ "Field Pumpkin",
type == "P" ~ "Giant Pumpkin",
type == "S" ~ "Giant Squash",
type == "W" ~ "Giant Watermelon",
type == "L" ~ "Long Gourd",
type== "T" ~ "Tomato",
TRUE ~ "Unknown"),
weight_lbs = parse_number(weight_lbs),
entry_type = case_when(
place == "EXH" ~ "Exhibition",
place == "DMG" ~ "Damaged",
TRUE ~ "Official"),
place = parse_number(place),
ott = parse_number(ott))
glimpse(pumpkins)
pumpkins %>%
count(year)
pumpkins %>%
mutate(type = fct_reorder(type, weight_lbs)) %>%
ggplot(aes(factor(year), weight_lbs, fill = type, group = year)) +
geom_violin(show.legend = FALSE) +
facet_wrap(~type, scales = "free_y") +
scale_y_log10()
pumpkins %>%
mutate(type = fct_reorder(type, -weight_lbs)) %>%
ggplot(aes(factor(year), weight_lbs, fill = type, group = year)) +
geom_violin(show.legend = FALSE) +
facet_wrap(~type, scales = "free_y") +
scale_y_log10()
pumpkins %>%
mutate(type = fct_reorder(type, -weight_lbs)) %>%
ggplot(aes(factor(year), weight_lbs, fill = type, group = year)) +
geom_violin(show.legend = FALSE) +
facet_wrap(~type, scales = "free_y") +
scale_y_log10(labels = comma_format())
library(scales)
theme_set(theme_light())
tt_caption <- "Source: BigPumpkins.com  |  Analysis: Tony Galvan (@GDataScience1)"
pumpkins %>%
mutate(type = fct_reorder(type, -weight_lbs)) %>%
ggplot(aes(factor(year), weight_lbs, fill = type, group = year)) +
geom_violin(show.legend = FALSE) +
facet_wrap(~type, scales = "free_y") +
scale_y_log10(labels = comma_format()) +
labs(x = "",
y = "Weight (in lbs)",
title = "Giant Pumpkin Commonwealth (GPC)",
caption = tt_caption)
pumpkins %>%
mutate(type = fct_reorder(type, -weight_lbs)) %>%
ggplot(aes(factor(year), weight_lbs, fill = type, group = year)) +
geom_violin(show.legend = FALSE) +
facet_wrap(~type, scales = "free_y") +
scale_y_log10(labels = comma_format(accuracy = 1)) +
labs(x = "",
y = "Weight (in lbs)",
title = "Giant Pumpkin Commonwealth (GPC)",
subtitle = "",
caption = tt_caption)
pumpkins %>%
mutate(type = fct_reorder(type, -weight_lbs)) %>%
ggplot(aes(factor(year), weight_lbs, fill = type, group = year)) +
geom_violin(show.legend = FALSE) +
facet_wrap(~type, scales = "free_y") +
scale_y_log10(labels = comma_format(accuracy = 1)) +
labs(x = "",
y = "Weight (in lbs)",
title = "Giant Pumpkin Commonwealth (GPC)",
subtitle = "Weight by type: 2013 - 2021",
caption = tt_caption)
# This will save your most recent plot
ggsave(
filename = "2021_10_19_tidy_tuesday.png",
device = "png")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tidytuesdayR)
library(scales)
theme_set(theme_light())
tt_caption <- "Source: BigPumpkins.com  |  Analysis: Tony Galvan (@GDataScience1)"
tt <- tt_load("2021-10-19")
tt
tt %>%
map(glimpse)
pumpkins <- tt$pumpkins %>%
separate(id, sep = "-", into = c("year", "type"), convert = TRUE) %>%
mutate(type = case_when(
type == "F" ~ "Field Pumpkin",
type == "P" ~ "Giant Pumpkin",
type == "S" ~ "Giant Squash",
type == "W" ~ "Giant Watermelon",
type == "L" ~ "Long Gourd",
type== "T" ~ "Tomato",
TRUE ~ "Unknown"),
weight_lbs = parse_number(weight_lbs),
entry_type = case_when(
place == "EXH" ~ "Exhibition",
place == "DMG" ~ "Damaged",
TRUE ~ "Official"),
place = parse_number(place),
ott = parse_number(ott))
glimpse(pumpkins)
pumpkins %>%
count(year)
pumpkins %>%
mutate(type = fct_reorder(type, -weight_lbs)) %>%
ggplot(aes(factor(year), weight_lbs, fill = type, group = year)) +
geom_violin(show.legend = FALSE) +
facet_wrap(~type, scales = "free_y") +
scale_y_log10(labels = comma_format(accuracy = 1)) +
labs(x = "",
y = "Weight (in lbs)",
title = "Giant Pumpkin Commonwealth (GPC)",
subtitle = "Weight by type: 2013 - 2021",
caption = tt_caption)
# This will save your most recent plot
ggsave(
filename = "2021_10_19_tidy_tuesday.png",
device = "png",
width = 10)
# This will save your most recent plot
ggsave(
filename = "2021_10_19_tidy_tuesday.png",
device = "png",
width = 15,
height = 5)
# This will save your most recent plot
ggsave(
filename = "2021_10_19_tidy_tuesday.png",
device = "png",
width = 12,
height = 6)
